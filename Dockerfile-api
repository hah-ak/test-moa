FROM eclipse-temurin:17-jdk
WORKDIR /home/myApp/build

# 볼륨과 분리 (디렉토리 복사등 정상적인 행동이 될 수 없음)
COPY ./gradle/wrapper ./gradle/wrapper
COPY ./gradlew .
COPY ./gradlew.bat .
RUN chmod +x ./gradlew

ONBUILD COPY ./build.gradle .
ONBUILD COPY ./settings.gradle .
ONBUILD COPY ./api ./api
ONBUILD COPY ./domain-modules ./domain-modules

ENTRYPOINT ["./shell/api.sh"]
#ENTRYPOINT ["tail", "-f", "/dev/null"]